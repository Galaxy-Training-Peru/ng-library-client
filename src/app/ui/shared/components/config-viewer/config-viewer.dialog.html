<h2 mat-dialog-title>
  <mat-icon>settings</mat-icon>
  Runtime Configuration
</h2>

<mat-dialog-content>
  <section>
    <h3>Environment</h3>
    <div>
      <mat-chip-set>
        <mat-chip [highlighted]="!env.production">
          {{ env.production ? 'Production' : 'Development' }}
        </mat-chip>
      </mat-chip-set>
      <span>{{ env.configFile }}</span>
    </div>
  </section>

  <section>
    <h3>Loaded Configuration</h3>

    @if (config(); as cfg) {
      @for (entry of flatEntries; track entry.key; let last = $last) {
        <div class="entry">
          <dt>{{ entry.key }}</dt>
          @if (isObject(entry.value)) {
            <dd><pre>{{ entry.value | json }}</pre></dd>
          } @else {
            <dd>{{ entry.value }}</dd>
          }
        </div>
        @if (!last) { <mat-divider /> }
      }
    } @else {
      <p>No configuration loaded</p>
    }
  </section>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>Close</button>
</mat-dialog-actions>
